<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>ROS 2 | nanoDDS</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.6.2">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="./license.html" />
    
    
    <link rel="prev" href="./index.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">


        
    <div class="book"  data-level="0.1" data-basepath="." data-revision="1406832559652">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/null" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >nanoDDS</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        

        

        

	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter active" data-level="0.1" data-path="ros2.html">
            
                
                    <a href="./ros2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.1.</b>
                        
                         ROS 2
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="0.2" data-path="license.html">
            
                
                    <a href="./license.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.2.</b>
                        
                         License
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="background/README.html">
            
                
                    <a href="./background/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Background
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="background/commercial_solutinos.html">
            
                
                    <a href="./background/commercial_solutinos.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         Commercial solutions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="background/open_source.html">
            
                
                    <a href="./background/open_source.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         Open Source
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="dds/README.html">
            
                
                    <a href="./dds/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         DDS
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="dds/architecture.html">
            
                
                    <a href="./dds/architecture.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Architecture
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="using_nanodds/README.html">
            
                
                    <a href="./using_nanodds/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Using nanoDDS
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 12.5%;min-width: 0%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./ros2.html" title="ROS 2" class="chapter done " data-progress="0.1" style="left: 12.5%;"></a>
    
        <a href="./license.html" title="License" class="chapter  " data-progress="0.2" style="left: 25%;"></a>
    
        <a href="./background/README.html" title="Background" class="chapter  new-chapter" data-progress="1" style="left: 37.5%;"></a>
    
        <a href="./background/commercial_solutinos.html" title="Commercial solutions" class="chapter  " data-progress="1.1" style="left: 50%;"></a>
    
        <a href="./background/open_source.html" title="Open Source" class="chapter  " data-progress="1.2" style="left: 62.5%;"></a>
    
        <a href="./dds/README.html" title="DDS" class="chapter  new-chapter" data-progress="2" style="left: 75%;"></a>
    
        <a href="./dds/architecture.html" title="Architecture" class="chapter  " data-progress="2.1" style="left: 87.5%;"></a>
    
        <a href="./using_nanodds/README.html" title="Using nanoDDS" class="chapter  new-chapter" data-progress="3" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_16">
                    
                        <h1 id="ros-2">ROS 2</h1>
<p>ROS 2 is the next generation of the Robot Operative System framework. ROS 2 has been design with a whole new range of applications in mind:</p>
<blockquote>
<ul>
<li>Teams of multiple robots: while it is possible to build multi-robot systems using ROS today, there is no standard approach, and they are all somewhat of a hack on top of the single-master structure of ROS.</li>
<li>Small embedded platforms: we want small computers, including “bare-metal” microcontrollers, to be first-class participants in the ROS environment, instead of being segregated from ROS by a device driver.</li>
<li>Real-time systems: we want to support real-time control directly in ROS, including inter-process and inter-machine communication (assuming appropriate operating system and/or hardware support).</li>
<li>Non-ideal networks: we want ROS to behave as well as is possible when network connectivity degrades due to loss and/or delay, from poor-quality WiFi to ground-to-space communication links.</li>
<li>Production environments: while it is vital that ROS continue to be the platform of choice in the research lab, we want to ensure that ROS-based lab prototypes can evolve into ROS-based products suitable for use in real-world applications.</li>
<li>Prescribed patterns for building and structuring systems: while we will maintain the underlying flexibility that is the hallmark of ROS, we want to provide clear patterns and supporting tools for features such as life cycle management and static configurations for deployment.</li>
</ul>
<p>Taken from <a href="http://design.ros2.org/articles/why_ros2.html" target="_blank">http://design.ros2.org/articles/why_ros2.html</a></p>
</blockquote>
<h3 id="ros-2-in-desktop">ROS 2 in Desktop</h3>
<p>ROS 2 uses DDS systems as the middleware and in Desktop systems, the code can be structured as:</p>
<p><img src="http://design.ros2.org/img/ros_on_dds/api_levels.png" alt=""></p>
<p>We can select a specific DDS vendor (e.g.: OpenSplice) and picture the overall architecture again:</p>
<p><img src="img/ros_on_dds_diagrams 5.png" alt=""></p>
<p>In a nutshell, the <em>Data Centric Publish/Subscribe Layer</em> is a middleware that allows applications to communicate through topics using the Publisher/Subscriber paradigm. The <em>Data Local Reconstruction Layer</em> automatically updates events locally from the remote updates and allows the application to access events &quot;as if&quot; they were local.</p>
<p>As the picture shows, the DDS is divided in several modules, each one representing one or more <em>profiles</em>. According to the OMG-DDS specification, a coherent set of profiles are defined that target real-time information-availability for domains ranging from small-scale embedded control systems up to large-scale enterprise information management systems.</p>
<p>Each DDS-profile adds distinct capabilities that define the service-levels offered by DDS. According to PrismTech documentation on OpenSplice:</p>
<blockquote>
<ul>
<li><strong>Minimum Profile</strong> - this basic profile utilizes the well known publish/subscribe paradigm to implement highly efficient information dissemination between multiple publishers and subscribers that share interest in so called &#39;topics&#39;. Topics are the basic data structures expressed in the OMG&#39;s IDL language (allowing for automatic generation of typed &#39;Readers&#39; and &#39;Writers&#39; of those &#39;topics&#39; for any mix of languages desired). This profile also includes the QoS framework that allows OpenSplice DDS C Tutorial1 Introduction to OpenSplice DDS the middleware to &#39;match&#39; requested and offered Quality of Service parameters
(the minimum profile offering basic QoS attributes such as &#39;reliability&#39;, &#39;ordering&#39; or &#39;urgency&#39;).</li>
<li><strong>Ownership Profile</strong> - this &#39;replication&#39; profile offers support for replicated publishers of the same information by allowing a &#39;strength&#39; to be expressed by each publisher so that only the &#39;highest strength&#39; information will be made available to interested parties.</li>
<li><strong>Content Subscription Profile</strong> - this &#39;content awareness&#39; profile offers powerful features to express fine grained interest in specific information content (content filters). This profile also allows applications to specify projection views and aggregation of data as well as dynamic queries for subscribed &#39;topics&#39; by utilizing a subset of the well known SQL language whilst preserving the real-time
requirements for the information access.</li>
<li><strong>Persistence Profile</strong> - this &#39;durability&#39; profile offers transparent and fault tolerant availability of &#39;non volatile&#39; data that may either represent persistent &#39;settings&#39; (to be stored on mass media throughout the distributed system) or &#39;state&#39; preserved in a fault tolerant manner outside the scope of transient publishers (allowing late joining applications and dynamic reallocation).</li>
<li><strong>DLRL Profile</strong> - this &#39;object model&#39; (Data Local Reconstruction Layer) extends the previous four data centric DCPS profiles with an object-oriented view on a set of related topics thus providing typical OO features such as navigation, inheritance and use of value types.</li>
</ul>
<p>Taken from OpenSplice DDS Version 6.x C Tutorial Guide</p>
</blockquote>
<h3 id="ros-2-and-nanodds">ROS 2 and nanoDDS</h3>
<p>The previous architecture is intractable for embedded systems where resources are limited thereby a new approach for this kind of devices should be designed. The architecture should contain the RTPS protocol (<em>the wire protocol</em>) and also at least the <em>Minimum</em> and <em>Ownership</em> profiles from the <em>Data Centric Publish/Subscribe Layer</em>.</p>
<p>Such a system is modelled in the following diagram:</p>
<p><img src="img/ros_on_dds_diagrams 6.png" alt=""></p>
<p><em>Minimum</em> and <em>Ownership</em> profiles should provide realtime publish/subsription messaging:</p>
<ul>
<li>Asynchronous <em>one-to-many</em> realtime data communication</li>
<li>Dynamic data-flow based on <em>current interest</em> (topic subscription/publishing)</li>
<li>Platform Independent Data Model (IDL)</li>
<li>Strong typed interfaces</li>
<li>Information ownership management for replicated publishers</li>
</ul>
<p>With this approach, both Desktop and embedded systems will be able to communicate through the RPTS protocol:</p>
<p><img src="img/ros_on_dds_diagrams 4.png" alt=""></p>
<p><img src="http://osrfoundation.org/assets/images/osrf_masthead.png" alt=""></p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./index.html" class="navigation navigation-prev " aria-label="Previous page: Introduction"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./license.html" class="navigation navigation-next " aria-label="Next page: License"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/"></script>
    

    
    <script src="gitbook/plugins/"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
